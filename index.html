<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CodeShelf | From hackathon to newsroom</title>
    <link rel="stylesheet" href="stylesheets/app.css" />
    <link rel="stylesheet" href="img/foundation-icons/foundation-icons.css" />
    <link rel="stylesheet" href="img/foundation-icons/foundation-icons.svg" />
    <link rel="stylesheet" href="img/foundation-icons/foundation-icons.eot" />
    <link rel="stylesheet" href="img/foundation-icons/foundation-icons.ttf" />
    <link rel="stylesheet" href="img/foundation-icons/foundation-icons.woff" />
    <link rel="stylesheet" href="js/slick/slick.css" />
    <link rel="stylesheet" href="js/slick/slick-theme.css" />
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/styles/default.min.css">
    <script src="bower_components/modernizr/modernizr.js"></script>
  </head>
  <body id="home">

    <!-- NAV -->
    <div class="contain-to-grid fixed">
      <nav class="top-bar fixed" data-topbar role="navigation">
        <ul class="title-area">
          <li class="name">
            <a href="http://code-shelf.github.io/"><h1><span class="primary title-font">/C</span><span class="secondary title-font">S</span></h1></a>
          </li>
           <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
          <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
        </ul>

        <section class="top-bar-section">
          <!-- Right Nav Section -->
          <ul class="right">
            <li><a href="http://code-shelf.github.io/#tools" class="text-center">Tools</a></li>
            <li><a href="http://code-shelf.github.io/#hackathons" class="text-center">Hackathons</a></li>
            <li><a href="http://code-shelf.github.io/#about" class="text-center">What is CodeShelf?</a></li>
            <li><a href="http://code-shelf.github.io/#contribute" class="text-center">CONTRIBUTE!</a></li>
          </ul>
        </section>
      </nav>
    </div>

    <!-- HEADER -->
    
    <div class="toolpage hero row">
      <div class="toolpage hero small-12 columns">
        <img class="toolpage hero-img" src="img/audiobug.png" alt="">
        <h1 class="hero text-center"><span class="hero primary title-font hero-logo">/</span><span class="hero secondary title-font hero-logo">AUDIOBUG</span></h1>
        <h2 class="hero toolpage text-center subheader">A fixed audio player that changes audio as you scroll.</h2>
        <h3 class="text-center toolpage subheader">by <a href="https://github.com/jdhancock88">John Hancock</a> & <a href="https://github.com/golfecholima">George LeVines</a></h3>
        <h3 class="categories toolpage hero text-center primary">Skill Level: 1</h3>
        <h3 class="categories toolpage hero text-center primary">Responsive: YES</h3>
      </div>
    </div>
    <hr/>

    <!-- META -->

    <div class="row">
      <h1 class="title-font bodycopy">What is Audiobug?</h1>
      <h4 class="bodycopy">Audiobug introduces an unobtrusive audio player that lives in the bottom-right corner of your viewport. As the user scrolls through the page, audio files are swapped in to fit the story context.</h4>
      </br>
      <h1 class="title-font bodycopy">How to</h1>
      <h4 class="bodycopy">Create the bug in your HTML</h4>
        <pre>
          <code>
          &lt;div class=&quot;audioBug clearFix&quot;&gt;
            &lt;img class=&quot;audio&quot; src=&quot;img/audio.svg&quot; alt=&quot;Play audio&quot; /&gt;
            &lt;h6&gt;LISTEN: The first audio file&lt;/h6&gt;
          &lt;/div&gt;
          </code>
        </pre>
      <h4 class="bodycopy">Call jQuery in your HTML</h4>
      <p class="bodycopy"><em>(Place this before the end of your &lt;/body&gt; tag.)</em></p>
        <pre><code>
          &lt;script src=&quot;//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js&quot;&gt;&lt;/script&gt;
          &lt;script&gt;window.jQuery || document.write('&lt;script src=&quot;js/vendor/jquery-1.11.2.min.js&quot;&gt;&lt;\/script&gt;')&lt;/script&gt;
        </code></pre>
      </br>
      <h4 class="bodycopy">Call the audio-bug.js file in your HTML</h4>
      <p class="bodycopy"><em>(Place this before the end of your &lt;/body&gt; tag.)</em></p>
        <pre><code>
          &lt;script src=&quot;js/audio-bug.js&quot;&gt;&lt;/script&gt;
        </code></pre>
      </br>
      <h4 class="bodycopy">To create the audio-bug.js file, copy and paste this Javascript into a text file and save as audio-bug.js</h4>
        <pre>
          <code>
        // BRING IN YOUR AUDIO FILES HERE

        var audioOne = 'https://d63kb4t2ifcex.cloudfront.net/201505horton/mp3/Horton_ImNotThisPicture.mp3';  // replace these with your audio files 
        var audioTwo = 'https://d63kb4t2ifcex.cloudfront.net/201505horton/mp3/Horton_WeHadBackThen.mp3';  // replace these with your audio files
        var audioThree = 'https://d63kb4t2ifcex.cloudfront.net/201505horton/mp3/Horton_IveNeverBeen.mp3';  // replace these with your audio files
        var audioFour = 'https://d63kb4t2ifcex.cloudfront.net/201505horton/mp3/Dukakis_OneOfTheValuesofFurlough.mp3';  // replace these with your audio files

        // SET YOUR SCROLL BREAKPOINTS HERE 

        var breakOne = 0;
        var breakTwo = $('.audio-two').offset().top - $(window).height();
        var breakThree = $('.audio-three').offset().top - $(window).height();
        var breakFour = $('.audio-four').offset().top - $(window).height();

        // SET YOUR AUDIO FILE TITLES

        var titleOne = 'LISTEN: The first audio file';
        var titleTwo = 'LISTEN: The second audio file';
        var titleThree = 'LISTEN: The third audio file';
        var titleFour = 'LISTEN: The fourth audio file';

        // DO THE STUFF

        var audioElement = document.createElement('audio');
            audioElement.setAttribute('src', audioOne);
            audioElement.setAttribute('preload', 'auto');
            //audioElement.load()
            $.get();
            audioElement.addEventListener("load", function() {
            audioElement.play();
            }, true);

            // CONTROLS THE PLAYING OF THE AUDIO

            $('.audioBug').click(function() {

                if ($(this).hasClass('playing')) {
                    audioElement.pause();
                    $(this).removeClass('playing');
                } else {
                    audioElement.play();
                    $(this).addClass('playing');
                }
            });

            // HOVERING OVER THE AUDIOBUG EXPANDS IT TO REVEAL THE AUDIO TITLE

            var timer;
                $('.audioBug').hover(function() {
                        clearTimeout(timer);
                        $(this).addClass('expanded');
                        $('.audioBug > h6').fadeIn();
                }, function() {
                        $('.audioBug > h6').fadeOut('slow');
                        timer = setTimeout(function() {
                                $('.audioBug').removeClass('expanded');
                        }, 1000);
                });

                // COLLAPSES THE BUG 5 SECONDS AFTER LOADING
            
                function removeBumper() {
                        setTimeout(function() {
                                $('.audioBug > h6').fadeOut(500, function() {
                                        $('.audioBug').removeClass('expanded');
                                });
                        }, 5000);
                }

                // AUDIOBUG EXPANDS TO REVEAL TITLE, THEN COLLAPSES AGAIN
                
                setTimeout(function() {
                        $('.audioBug').addClass('expanded');
                }, 2000);
                setTimeout(function() {
                        $('.audioBug > h6').fadeIn(300, function() {
                                removeBumper();
                        });
                }, 2700);

            // SCROLLING THROUGH SET RANGES CHANGES THE AUDIO FILE AND EXPANDS THE BUG AGAIN

            $(window).scroll(function() {
                if ($(this).scrollTop() > breakOne && $(this).scrollTop() < breakTwo && audioElement.src !== audioOne) {
                    audioElement.setAttribute('src', audioOne);
                    $('.audioBug > h6').text(titleOne);
                } 
                else if ($(this).scrollTop() > breakTwo && $(this).scrollTop() < breakThree && audioElement.src !== audioTwo) {
                    audioElement.setAttribute('src', audioTwo);
                    $('.audioBug > h6').text(titleTwo);
                } 
                else if ($(this).scrollTop() > breakThree && $(this).scrollTop() < breakFour && audioElement.src !== audioThree) {
                    audioElement.setAttribute('src', audioThree);
                    $('.audioBug > h6').text(titleThree);
                } 
                else if ($(this).scrollTop() > breakFour && audioElement.src !== audioFour) {
                    audioElement.setAttribute('src', audioFour);
                    $('.audioBug > h6').text(titleFour);
                }
            });
          </code>
        </pre>
  
        <h4 class="bodycopy">Here is the CSS to style the audiobug</h4>
         <pre>
            <code>
              /*clearfix hack */
              .clearFix:after {
                content: "";
                display: table;
                clear: both; }

              .audioBug {
                position: fixed;
                bottom: 5%;
                width: 4rem;
                right: 5%;
                background-color: rgba(176,28,41, .8);
                border-radius: 2rem;
                height: 4rem;
                float: right;
                cursor: pointer;
                z-index: 100;
                transition: all .5s ease-out;
              }

              .expanded {
                width: 28rem;
              }

              .audioBug img {
                width: 30px;
                height: 30px;
                display: block;
                margin: .5rem .5rem 0 .5rem;
                float: left;
                transition: all .5s ease-out;
                cursor: pointer;
              }

              .audioBug img.bumper {
                margin: .5rem 0 0 1rem;
              }

              .audioBug h6 {
                font-size: 1.3rem;
                color: white;
                line-height: 1.3rem;
                float: right;
                width: 24rem;
                margin-top: .5rem;
                padding-right: 1rem;
                display: none;
              }
            </code>
         </pre>
    </div>

    <!-- HOW-TO -->

    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script src="bower_components/foundation/js/foundation.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="js/slick/slick.js"></script>
    <script src="js/slick.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>
